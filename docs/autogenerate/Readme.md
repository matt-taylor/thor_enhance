# Autogenerate Readme

A core component of `ThorEnhance` is the ability to autogenerate Readmes for your thor commands. This allows the code and the readme to be in lockstep without the worry of the Readme getting out of date.

## How does this work?
By building on top of [Command Method Injection](../command.md) and [Method Option Injection](../method_option.md), ThorEnhance allows Readme's to get autogenerated based on the description of the command and the methods.

## How to use

```ruby
# thor_enhance_config.rb
ThorEnhance.configure do |c|
  c.readme_enhance!
end
```

## Default capabilities

### Example Command Option
When `readme_enhance` is enabled, by default the `example`ew command option is available on for every command.

```ruby
desc "sample", "This Sample command"
example "sample", desc: "Basic invocation of the useless command"
example "sample --boolean", desc: "Basic invocation of the useless command with a flag"
method_option :boolean, type: :boolean, desc: "Just a normal boolean"
def sample;end;
```

The example command takes signature expects:
```ruby
# remove basename and any submodules from command execution
example "command execution", desc: "Description of what the command does"
```

By default, `example` is not required for every command. To make example required for every command, modify the configuration to
```ruby
ThorEnhance.configure do |c|
  c.readme_enhance! do |r|
    r.example(required: true)
  end
end
```

### Header Command Option
When `readme_enhance` is enabled, by default a the `header` option is available on every command.

```ruby
desc "sample", "This Sample command"
header name: "When should I use this?", desc: "To add additional commentary to your command"
header name: "I can have many headers", desc: "Headers can be different per command"
def sample;end;
```

By default, `header` is not required for every command. It is an additive command that is customizable per command

### Title Command Option
When `readme_enhance` is enabled, by default a the `title` option is available on every command.

This optional command option gets used for the Readme title. Otherwise, the method name gets used

```ruby
desc "sample", "This Sample command"
title ""
def sample;end;
```

By default, `title` is not required for every command. To make example required for every command, modify the configuration to
```ruby
ThorEnhance.configure do |c|
  c.readme_enhance! do |r|
    r.title(required: true)
  end
end
```

### Readme Method Option

When `readme_enhance` is enabled, by default `readme` flag is available on every option.

```ruby
desc "sample", "This Sample command"
method_option :boolean, type: :boolean, desc: "Just a normal boolean", readme: :important
def sample;end;
```

The Default options for the value of `:readme` are [`:important`, `:advanced`, `:skip`].

All methods flagged with `:important` will show up higher in the readme. Anything labled with `:skip`, will not show up on the readme.


By default, `readme` is not required for every method.

```ruby
# This will require all method_options to have the `readme` flag
ThorEnhance.configure do |c|
  c.readme_enhance! do |r|
    r.readme(required: true)
  end
end
```

```ruby
# This will options without the `readme` flag to a group of :empty on the readme
ThorEnhance.configure do |c|
  c.readme_enhance! do |r|
    r.readme(empty_group: :empty)
  end
end
```

```ruby
# Setting enums will override the default readme groups
# Only these values will be allowed as readme values
# The order of the arry determines the order the group will be ouputted in the Readme
ThorEnhance.configure do |c|
  c.readme_enhance! do |r|
    r.readme(enums: ["cool", :features, "live", "here".to_sym])
  end
end
```

### Custom Header Command Option

Custom Headers must get manually added to the configuration.

```ruby
ThorEnhance.configure do |c|
  c.readme_enhance! do |r|
    # how_does_this_help will be required on every command
    r.custom_header("how_does_this_help", required: true)
    # when_should_i_use_this is a repeatable command
    r.custom_header("when_should_i_use_this", repeatable: true)
    # is_this_important is now a question. On the readme, `?` gets appened to the header
    r.custom_header("is_this_important", question: true)
  end
end
```

The configuration enumerated above allows the ability to do the following:


```ruby
desc "sample", "This Sample command"
how_does_this_help "This command will help enable additional configuration for each command. This will get appended to the Readme in the order it appears as originally configured", tag: "h4"
when_should_i_use_this "Use this whenever you like"
when_should_i_use_this "Or you dont ever have to use this", tag: "h2"
is_this_important "Yes this is imporant. It even has a custom tag", tag: 1
def sample;end;
```

Take special not of the `tag` option on the custom header. By default, header will output as an <h2> header tag. To change, this you can use numeric `1|2|3|4` or you can use string `h[1234]`
